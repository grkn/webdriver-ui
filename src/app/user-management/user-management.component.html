<p-fieldset legend="User">
  <div class="ui-g-4">
    <button pButton routerLink="/usermanagement/create" label="Create User"></button>
  </div>
  <div class="ui-g-12">
    <p-table dataKey="id" [value]="users" [lazy]="true" (onLazyLoad)="loadUsersLazy($event)"
             [paginator]="true"
             [rows]="10" [totalRecords]="totalElements">
      <ng-template pTemplate="header" let-columns="columns">
        <tr>
          <th>Id</th>
          <th>Name</th>
          <th>Last Name</th>
          <th>Account Name</th>
          <th>Email Address</th>
          <th>Authorizations</th>
          <th>Actions</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-rowData let-expanded="expanded" let-columns="columns">
        <tr>
          <td>{{rowData.id}}</td>
          <td>{{rowData.name}}</td>
          <td>{{rowData.lastName}}</td>
          <td>{{rowData.accountName}}</td>
          <td>{{rowData.emailAddress}}</td>
          <td>
            <ol>
              <li *ngFor="let auth of rowData.userAuthorization">
                {{auth.authorization}}
              </li>
            </ol>
          </td>
          <td>
            <button pButton routerLink="/usermanagement/create/{{rowData.id}}" label="Edit"></button>
            <button pButton (click)="deleteById(rowData.id)" label="Delete"></button>
            <button pButton (click)="show(rowData.id)" label="Add Role"></button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</p-fieldset>
